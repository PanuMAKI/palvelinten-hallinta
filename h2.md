# H2 Infraa koodina

## c) tiivistelmät
## Karvinen 2014: Hello Salt Infra-as-Code
- artikkelissa kerrottaan mistä alkaa infra koodina.
- artikkeli kertoo miten tehdä teksti tiedosto ja miten sinne laitetaan koodia.
- tämän jälkeen tutustutaan koodin käyttämiseen. Kyseinen koodi joka artikkelissa on luo hakemiston nimeltä "hellotero"
  
## Salt contributors: Salt overview,kohdat: Rules of YAML, YAML simple structure, Lists and dictionaries - YAML block structures
- Salt projectin oma artikkeli jossa kerrottaan YAMl Kielen  petusteet
  
## Salt contributors: The top file, kohdat: Introduction, A basic example
- Toine salt projectin oma artikkeli.
- tässä artikkelissa esitellään top file joka on tiedosto jossa määritellään millä laite ryhmällä pitäisi olla mitäkin ladattuna
- Top file tarvitsee 3 komponenttia
- ympäristö, kohde ja lista tiedostoista mitö kuuluu olla ladattuna


## a) Infraa koodina paikallisesti

Ensin siirryin salt hakemistoon komennolla $ cd /srv/salt ja loin sinne uuden hakemiston nimeltä hello komenolla $ sudo mkdir -p /srv/salt/hello/.
tähän hakemistoon loin .sls tiedoston komenolla $ sudoedit init.sls tähän tiedostoon kirjoitin koodia seuraavasti 
<img width="297" height="102" alt="init sls 2" src="https://github.com/user-attachments/assets/f7b922e4-9732-4f63-8dfc-781cd2188922" />


ajoin tiedoston komenolla 

$ sudo salt-call --local state.apply hello

ja sain tuloksen:
<img width="599" height="399" alt="lopputulos" src="https://github.com/user-attachments/assets/32148d34-5338-4011-987e-acf4c70ffc65" />

tarkistin muutoksen komenolla $ cat /tmp/heitoimiiko 
<img width="447" height="40" alt="toimiiko" src="https://github.com/user-attachments/assets/c3accd41-591a-412f-b470-c5fb9239510f" />
## b) Top File
Loin uuden sls tiedoston salt hakemistoon komennolla $ sudoedit top.sls ja kirjoitin tiedostoon seuraavasti:<img width="126" height="75" alt="top sls" src="https://github.com/user-attachments/assets/96964df3-703a-45c8-88bb-bfd05eb42446" />

välissä kävin poistamassa heitoimiiko tiedoston komennnolla $ sudo rm heitoimiiko

seuraavaksi ajoin top filen komennolla $ sudo salt-call --local state.apply ja sain lopputulokseksi:<img width="598" height="397" alt="joku" src="https://github.com/user-attachments/assets/2dc333f1-7264-4645-bc45-de20424a662b" />

## c) Viisikko tiedostossa.


